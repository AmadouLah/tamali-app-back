# =================== CONFIGURATION RENDER ===================

server:
  port: ${PORT:10000}
  address: 0.0.0.0
  tomcat:
    threads:
      max: 20
      min-spare: 2
    max-connections: 100
    accept-count: 10
  compression:
    enabled: true
    mime-types: application/json,application/xml,text/html,text/xml,text/plain

spring:
  datasource:
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
  jmx:
    enabled: false
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            scope: email,profile
            redirect-uri: ${APP_BASE_URL:https://tamali.onrender.com}/api/auth/oauth2/callback/google

app:
  cors:
    allowed-origins: ${APP_CORS_ALLOWED_ORIGINS:https://tamali.vercel.app,http://localhost:4200}
  jwt:
    secret: ${JWT_SECRET}
    expiration: 86400000
  mail:
    provider: ${APP_MAIL_PROVIDER:brevo}
    from: ${APP_MAIL_FROM:amadoulandoure004@gmail.com}
    brevo:
      api-key: ${BREVO_API_KEY}
  base-url: ${APP_BASE_URL:https://tamali.onrender.com}
  frontend-url: ${APP_FRONTEND_URL:https://tamali.vercel.app/}
  storage:
    supabase:
      url: ${SUPABASE_URL:https://hdexxoihbyppkoderaso.supabase.co}
      bucket: ${SUPABASE_BUCKET:products}
      service-role-key: ${SUPABASE_SERVICE_ROLE_KEY:}
      key: ${SUPABASE_KEY:}

management:
  metrics:
    enable:
      jvm: false
      process: false
      system: false
  endpoints:
    web:
      exposure:
        include: health

logging:
  level:
    root: ERROR
    com.tamali_app_back: INFO
    com.tamali_app_back.www.config: DEBUG
